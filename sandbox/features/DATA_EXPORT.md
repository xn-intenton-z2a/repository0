# Data Export

## Overview
Provide users the ability to export the raw data points generated by any plot to an external file in JSON or CSV format for further analysis or integration.

## Implementation
1. Extend src/lib/main.js to accept a new CLI flag `--export-data <filename>`.
2. Modify existing plotting functions (plotQuadratic, plotSine, plotPolar, plotParametric) to return both the SVG string and the array of sampled points.
3. After rendering the SVG, if an export-data filename is provided:
   - Determine output format by file extension: `.json` or `.csv`.
   - Serialize the data array: use `JSON.stringify(data, null, 2)` for JSON, or build CSV lines with a header row and comma-separated values.
   - Write the serialized data to the specified file path using `fs.writeFileSync`.
4. Ensure that exporting data does not interfere with existing SVG output functionality.

## CLI Usage
Run a plot and export its data points:

npm run start -- --equation sine --range 0,6.283 --export-data points.json

npm run start -- --equation quadratic --export-data samples.csv

If no export-data flag is provided, behavior remains unchanged and only the SVG file is generated or printed.

## Tests
- Add unit tests in tests/unit/main.test.js for data serialization helpers to confirm valid JSON and CSV output from known data arrays.
- Add a feature-level test sandbox/tests/data-export.test.js that invokes the CLI with `--export-data`, verifies the file is created, and checks its contents are well-formed JSON or CSV.

## Documentation
Update README.md to document the `--export-data` flag, supported file extensions, serialization behavior, and usage examples.
# EXPORT

## Overview
The EXPORT feature enhances the CLI tool by allowing users to save the output of any executed command to an external file. Whether the output is in plain text or JSON mode, users can export their results for reporting, auditing, or further analysis. This feature supports multiple formats, including JSON (default) and CSV, ensuring seamless integration with other tools and workflows.

## CLI Integration
- **Command Flag:** Introduce a new global flag `--export` which accepts a file path as an argument.
- **Usage Examples:**
  - `node src/lib/main.js --export results.json --sum 3 4 5`
  - `node src/lib/main.js --export output.csv --format csv --multiply 2 3 4`
- **Optional Parameters:**
  - `--format`: Specifies the export format. Defaults to JSON if not provided. Supported values are `json` and `csv`.
  - `--append`: An optional flag to append to the file alternatively, the default behavior can be to overwrite the existing file.

## Implementation Details
- **Data Capture:** The output generated by any command (including metadata like timestamp, tool version, execution duration, and inputEcho) will be captured by the export handler.
- **File Handling:** Leverage Node's file system module (`fs`) to write the output to the specified file path. Ensure robust error handling for file I/O issues.
- **Format Handling:**
  - **JSON Mode:** Directly write the output object (minified or pretty based on global flags) into the file.
  - **CSV Mode:** Convert the output into CSV format, ensuring columns for command, result, warnings, timestamp, version, executionDuration, and inputEcho are included.
- **Integration with Global Modes:** If global JSON flags (`--json` or `--json-pretty`) are active, the export file will mirror the chosen format. If not, the output will be captured as displayed in plain text and converted if CSV format is requested.

## Testing & Documentation
- **Unit Tests:** Develop tests that simulate the export of outputs in both formats. Verify file creation, data integrity, and proper handling of append versus overwrite modes.
- **Documentation:** Update the README and CLI usage guidelines with clear examples and detailed instructions on how to use the export functionality.
- **Inline Comments:** Document the export logic in `src/lib/main.js` to explain how data is intercepted and written out when the `--export` flag is used.

## Alignment with Repository Mission
The EXPORT feature supports the repositoryâ€™s mission of promoting healthy collaboration and streamlined automation by enabling users to persist command outputs. This added functionality facilitates tracking, auditing, and external analysis of workflow results, further enhancing the repository's usability as a modular, single-source CLI utility.
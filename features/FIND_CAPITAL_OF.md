# Overview

This feature adds a new CLI command to query the capital city of a specific country code from an OWL JSON ontology generated by the existing capital-cities logic. It reuses the ontology builder and adds focused querying and output modes.

# CLI Usage

When invoking the main script with:
  node src/lib/main.js --find-capital-of <countryCode> [--output <path>]

1. Query Only:
   - Example: node src/lib/main.js --find-capital-of USA
   - Fetches country data, builds OWL JSON ontology, finds the hasCapital relationship for the given code, and prints the capital name(s) to stdout as plain text.

2. File Output:
   - Example: node src/lib/main.js --find-capital-of FRA --output capital.json
   - Writes a JSON object of the form {"country":"FRA","capital":"Paris"} (or array if multiple capitals) to the specified file.

3. Error Handling:
   - If the country code is missing or not found, the command throws an error and exits with a non-zero status, printing a clear message: Error: Country code <code> not found.

# Implementation Details

- In src/lib/main.js:
  1. Factor the existing fetch-and-build logic into a helper function buildCapitalCitiesOntology().
  2. Detect the --find-capital-of flag and its argument position.
  3. Validate that a country code argument is provided; otherwise throw an error.
  4. Reuse buildCapitalCitiesOntology() to obtain the ontology object.
  5. Filter ontology.individuals for triples where predicate === 'hasCapital' and subject === <countryCode>.
  6. If no matches, throw Error: Country code <code> not found.
  7. Prepare a result object { country: <code>, capital: <string or array> }.
  8. If --output <path> is provided, write JSON.stringify(result) to the file via fs.promises.writeFile; else print either the capital string or JSON.stringify(array) to stdout.
  9. Return the result object when main() is called programmatically.

# Testing

- Add unit tests in tests/unit/main.test.js using Vitest:
  1. Stub global.fetch to return a controlled list of country objects with cca3 and capital arrays.
  2. Test main(["--find-capital-of","USA"]) spies on console.log to assert it prints the correct capital and returns { country: "USA", capital: "Washington D.C." }.
  3. Test main(["--find-capital-of","FRA","--output","out.json"]) stubs fs.promises.writeFile to assert it writes the expected JSON to the file and returns the same object.
  4. Test error case: stub fetch to return no matching entries and expect main([...]) to reject with Error: Country code XYZ not found.

# Documentation

- Update README.md under **CLI Usage** to add a new section:
  ### Query a Countryâ€™s Capital from OWL JSON
  ```bash
  node src/lib/main.js --find-capital-of <countryCode> [--output <path>]
  ```
  Explain behavior, show examples for both console output and file output, and mention error handling.

- Link to MISSION.md to frame this feature as part of the mission to provide query tools for OWL ontologies.